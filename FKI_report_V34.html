<!DOCTYPE html>

<html lang="cs">
<head>
  <meta charset="utf-8" />
  <meta name="viewport" content="width=device-width, initial-scale=1" />
  <title>Report investičního portfolia</title>
  <script src="https://cdn.tailwindcss.com"></script>
  <link
    rel="stylesheet"
    href="https://fonts.googleapis.com/css2?family=Montserrat:wght@400;500;600;700&display=swap"
  />
    <link rel="stylesheet" href="./styles.css" />

</head>
<body class="antialiased text-body">
<header class="report-header">
<div class="report-header__inner">
<div class="brand-logo">Fair<span>Life</span></div>
<div class="hero-layout">
<div class="hero-intro">
<div class="hero-badges">
<span class="hero-badge">Report investičního portfolia</span>
</div>
<h1 class="report-title">Přehled vašeho finančního světa</h1>
<p>Sledujte výkonnost fondů, analyzujte cashflow a připravte pro klienty precizní výstupy v jednom elegantním prostředí.</p>
<div class="hero-disclaimer">
<span>© <span id="current-year"></span> Ondřej Lacina</span>
<span>Toto dílo je chráněno autorským právem dle zákona č. 121/2000 Sb.</span>
<span>Šíření mimo strukturu Fair-life je zakázáno.</span>
</div>
</div>
<div class="feature-stack">
<div class="feature-card benefit">
<div class="feature-text">
<span class="feature-title benefit-title">Interaktivní řízení</span>
<span class="feature-desc benefit-desc">Import, export i validace dat v reálném čase na jednom místě.</span>
</div>
</div>
<div class="feature-card benefit">
<div class="feature-text">
<span class="feature-title benefit-title">Pokročilé analýzy</span>
<span class="feature-desc benefit-desc">XIRR, projekce výnosů i vizualizace portfolia bez nutnosti dalších nástrojů.</span>
</div>
</div>
</div>
</div>
</div>
</header>
<!-- Tooltip for charts -->
<div class="hidden" id="chart-tooltip"></div>
<!-- Toast container for notifications -->
<div id="toast-container"></div>
<main class="relative px-4 sm:px-6 lg:px-8 py-12">
<div class="max-w-7xl mx-auto space-y-12">
<!-- === SELF-TESTS & STATUS NOTIFICATIONS === -->
<div class="space-y-4" id="status-container"></div>
<!-- === FX & OUTPUT CONTROLS === -->
<div class="grid gap-6 xl:grid-cols-3">
<section class="card p-6 sm:p-7 xl:col-span-2">
<div class="flex flex-col sm:flex-row sm:items-center sm:justify-between gap-6">
<div class="space-y-2">
<h2 class="section-title">Nastavení měny</h2>
<p class="text-sm text-muted">Zadejte kurz EUR/CZK a zvolte výstupní měnu reportu.</p>
</div>
<div class="flex items-center gap-4 flex-wrap">
<label class="flex flex-col sm:flex-row sm:items-center gap-2 text-sm text-body">
<span class="font-medium text-primary whitespace-nowrap">Kurz (CZK za 1 EUR)</span>
<input class="glass-input px-3 py-2 rounded-xl border w-[170px] tabular text-right text-primary placeholder:text-muted" id="fx-rate" placeholder="např. 25.30" step="0.0001" type="number"/>
</label>
<div class="hidden sm:block w-px h-9 bg-divider"></div>
<label class="flex flex-col sm:flex-row sm:items-center gap-2 text-sm text-body">
<span class="font-medium text-primary">Výstup v měně</span>
<select class="glass-input px-3 py-2 rounded-xl border bg-white text-primary" id="out-curr">
<option selected="" value="CZK">CZK</option>
<option value="EUR">EUR</option>
</select>
</label>
</div>
</div>
</section>
<!-- === DATA MANAGEMENT === -->
<section class="card p-6 sm:p-7">
<div class="space-y-5">
<div class="space-y-2">
<h3 class="card-subtitle">Správa dat</h3>
<p class="text-sm text-muted">Synchronizujte portfolio jedním kliknutím.</p>
</div>
<div class="flex flex-col gap-3 text-sm">
<label class="flex flex-col sm:flex-row sm:items-center gap-2">
<span class="font-medium text-primary whitespace-nowrap">Jméno a příjmení klienta (1. pád)</span>
<input class="glass-input px-3 py-2 rounded-xl border w-full sm:w-[260px] text-primary placeholder:text-muted" id="client-name" placeholder="např. Jan Novák" type="text"/>
</label>
<label class="flex flex-col gap-1">
<span class="font-medium text-primary">Oslovení klienta (5. pád)</span>
<input class="glass-input px-3 py-2 rounded-xl border w-full sm:w-[260px] text-primary placeholder:text-muted" id="client-salutation" placeholder="např. Pepo" type="text"/>
<span class="text-xs text-muted">Tip: Pepo, Jano, paní Nováková…</span>
</label>
<!-- /* PATCH */ Pohlaví klienta -->
<div class="flex flex-col gap-2 text-sm text-body">
<span class="font-medium text-primary">Pohlaví klienta</span>
<div class="flex flex-wrap items-center gap-4">
<label class="inline-flex items-center gap-2">
<input class="form-radio" id="client-gender-male" name="client-gender" type="radio" value="male"/>
<span>Muž</span>
</label>
<label class="inline-flex items-center gap-2">
<input class="form-radio" id="client-gender-female" name="client-gender" type="radio" value="female"/>
<span>Žena</span>
</label>
</div>
</div>
<div class="flex flex-col gap-2 text-sm text-body">
<span class="font-medium text-primary">Forma komunikace v reportu</span>
<div class="flex flex-wrap items-center gap-4">
<label class="inline-flex items-center gap-2">
<input class="form-radio" id="client-tone-vykani" name="client-tone" type="radio" value="vykani"/>
<span>Vykání</span>
</label>
<label class="inline-flex items-center gap-2">
<input class="form-radio" id="client-tone-tykani" name="client-tone" type="radio" value="tykani"/>
<span>Tykání</span>
</label>
</div>
</div>
<!-- /* PATCH */ Jazyk reportu -->
<div class="flex flex-col gap-2 text-sm text-body">
<span class="font-medium text-primary">Jazyk reportu</span>
<div class="flex flex-wrap items-center gap-4">
<label class="inline-flex items-center gap-2">
<input class="form-radio" id="client-language-cs" name="client-language" type="radio" value="cs"/>
<span>Čeština</span>
</label>
<label class="inline-flex items-center gap-2">
<input class="form-radio" id="client-language-en" name="client-language" type="radio" value="en"/>
<span>English</span>
</label>
</div>
</div>
<div class="flex flex-wrap gap-2">
<button class="secondary-btn px-4 py-2 rounded-xl text-sm font-medium" data-action="export-json" type="button">Exportovat do .json</button>
<button class="secondary-btn px-4 py-2 rounded-xl text-sm font-medium" data-action="import-json" type="button">Importovat z .json</button>
<button class="primary-btn px-4 py-2 rounded-xl text-sm font-medium flex items-center gap-2" data-action="export-html" type="button">
<svg class="h-4 w-4" fill="none" viewbox="0 0 20 20" xmlns="http://www.w3.org/2000/svg">
<path d="M4 10.5l6 6 6-6" stroke="currentColor" stroke-linecap="round" stroke-linejoin="round" stroke-width="1.5"></path>
<path d="M10 3.5v12" stroke="currentColor" stroke-linecap="round" stroke-linejoin="round" stroke-width="1.5"></path>
</svg>
                  Exportovat report pro klienta (.html)
                </button>
<input accept=".json" class="hidden" id="import-file-input" type="file"/>
</div>
<div class="text-xs text-muted sm:ml-auto" id="last-saved-indicator"></div>
</div>
</div>
</section>
</div>
<div class="divider"></div>
<!-- === INPUT SECTIONS (PROVIDERS) === -->
<section class="space-y-6">
<div class="space-y-3">
<span class="pill">Vstupní data</span>
<div class="space-y-2">
<h2 class="section-title">Správa poskytovatelů a transakcí</h2>
<p class="text-sm text-body max-w-3xl">Importujte nebo přepisujte data jednotlivých platforem, kontrolujte jejich konzistenci a sledujte výsledky okamžitě po zadání.</p>
</div>
</div>
<div class="flex flex-col gap-6" id="provider-sections"></div>
</section>
<div class="divider"></div>
<!-- === RESULTS BY FUND (REDESIGNED) === -->
<section class="card p-7 sm:p-8">
<div class="flex flex-col md:flex-row md:items-center md:justify-between gap-4">
<div>
<h2 class="section-title">Výsledky po fondech</h2>
<p class="text-sm text-muted">Detailní rozpad portfolia včetně XIRR pro jednotlivé fondy.</p>
</div>
<div class="text-xs font-medium uppercase tracking-[0.2em] text-muted" id="amount-note-funds">Částky v CZK</div>
</div>
<div class="space-y-4" id="funds-by-card-container">
</div>
</section>
<!-- === PORTFOLIO SUMMARY === -->
<section class="card p-7 sm:p-8">
<div class="flex flex-col md:flex-row md:items-center md:justify-between gap-4">
<div>
<h2 class="section-title">Souhrn Vašeho portfolia</h2>
<p class="text-sm text-muted">Klíčové ukazatele, které Vám v kostce ukážou celkové zdraví a výkon Vašich investic.</p>
</div>
<div class="text-xs font-medium uppercase tracking-[0.2em] text-muted" id="amount-note-portfolio">Částky v CZK</div>
</div>
<div class="text-sm" id="portfolio-summary-content">
</div>
</section>
<!-- === CHARTS & VISUALIZATIONS === -->
<section class="space-y-8" id="charts-section">
<div class="card p-7 sm:p-8" id="line-chart-card" style="display: none;">
<div class="flex flex-col gap-2 sm:flex-row sm:items-center sm:justify-between">
<h2 class="section-title">Vývoj hodnoty portfolia s predikcí do roku 2035</h2>
<p class="text-sm text-muted max-w-md">Simulace navazuje na aktuální XIRR a ukazuje odhad dalšího růstu při zachování tempa.</p>
</div>
<div class="relative mt-6" id="line-chart-container"></div>
</div>
<div class="card p-7 sm:p-8" id="pie-chart-card" style="display: none;">
<div class="flex flex-col gap-2 sm:flex-row sm:items-center sm:justify-between">
<h2 class="section-title">Alokace portfolia v čase</h2>
<p class="text-sm text-muted max-w-md">Prozkoumejte rozložení kapitálu v jednotlivých fondech k libovolnému datu.</p>
</div>
<div class="max-w-xl w-full mx-auto mt-6" id="pie-chart-container"></div>
<div class="mt-6">
<input class="w-full" id="pie-time-slider" type="range"/>
<div class="flex justify-between text-xs text-muted mt-2">
<span id="slider-start-date-label"></span>
<span class="font-semibold text-accent" id="slider-current-date-label"></span>
<span id="slider-end-date-label"></span>
</div>
</div>
</div>
</section>
<!-- === ANNUITY CALCULATOR === -->
<section class="card p-7 sm:p-8" id="annuity-calculator-section">
<div class="flex flex-col gap-3 sm:flex-row sm:items-center sm:justify-between">
<div>
<h2 class="section-title">Kalkulačka nekonečné renty</h2>
<p class="text-sm text-muted">Zjistěte, jak velký kapitál je potřeba pro pasivní příjem z portfolia.</p>
</div>
</div>
<div class="mt-5 flex items-center gap-4 flex-wrap">
<label class="flex flex-col sm:flex-row sm:items-center gap-2">
<span class="text-sm font-medium text-primary whitespace-nowrap">Požadovaná měsíční renta</span>
<input class="glass-input px-3 py-2 rounded-xl border w-[200px] tabular text-right text-primary placeholder:text-muted" id="annuity-input" placeholder="např. 10 000" type="text"/>
</label>
<div class="text-sm text-muted" id="annuity-annual-equivalent"></div>
</div>
<div class="mt-5 text-sm text-primary bg-accent-soft border border-accent-soft rounded-xl p-5" id="annuity-result" style="display: none;"></div>
<p class="mt-3 text-xs text-muted italic" id="annuity-disclaimer" style="display: none;">
          *Tento výpočet předpokládá, že si z portfolia každý rok vyberete pouze vygenerovaný výnos (zhodnocení) a jistina zůstane nedotčena, aby mohla generovat další výnos v následujícím roce.
        </p>
</section>
<!-- === EXPLANATIONS === -->
<section class="card p-7 sm:p-8" id="explanations-section">
<details class="group">
<summary class="text-lg font-semibold cursor-pointer flex items-center justify-between text-primary">
<span>Vysvětlivky a použité metriky</span>
<svg class="summary-arrow w-5 h-5 transition-transform group-open:rotate-90 text-muted" fill="currentColor" viewbox="0 0 20 20" xmlns="http://www.w3.org/2000/svg">
<path clip-rule="evenodd" d="M7.21 14.77a.75.75 0 01.02-1.06L11.168 10 7.23 6.29a.75.75 0 111.04-1.08l4.5 4.25a.75.75 0 010 1.08l-4.5 4.25a.75.75 0 01-1.06-.02z" fill-rule="evenodd"></path>
</svg>
</summary>
<div class="mt-4 pt-4 border-t border-subtle text-sm text-body space-y-5">
<div>
<h4 class="font-semibold text-primary">Co je to XIRR a jak funguje?</h4>
<p class="mt-2 leading-relaxed">
                Jde o klíčový ukazatel reálné výkonnosti Vašeho portfolia. Na rozdíl od jednoduchého průměru totiž XIRR spravedlivě zohledňuje, <strong>kdy a jaké částky</strong> jste do portfolia vkládal. Výsledné procento Vám tak dává přesný obraz o tom, jak efektivně Vaše peníze v průměru každý rok pracovaly.
              </p>
</div>
<div class="pt-4 border-t border-subtle">
<h4 class="font-semibold text-primary">Co je kumulativní zhodnocení?</h4>
<p class="mt-2 leading-relaxed">
                Tento údaj Vám poskytuje rychlý a celkový pohled na dosavadní úspěšnost portfolia. Jednoduše řečeno, vyjadřuje Váš <strong>celkový čistý výnos jako procento ze všech Vašich vkladů</strong>. Je to souhrnné číslo, které ukazuje celkový růst od začátku investování až po dnešek.
              </p>
</div>
</div>
</details>
</section>
</div>
</main>

    <script src="./app.js" defer></script>

</body>
</html>
